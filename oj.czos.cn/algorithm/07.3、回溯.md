## 7.3回溯
回溯是搜索算法中的一种控制策略。 它的基本思想是：为了求得问题的解， 先选择一种可能情况向前探索，在探索过程中， 一旦发现原来的选择是错误的， 就退回一步重新选择，继续向前搜索，如此反复进行， 直至得到解或证明无解。
如迷宫问题：进入迷宫后， 先随意选择一个前进方向， 一步步向前试探前进，如果碰到死
胡同，说明前进方向已无路可走，这时，首先看其它方向是否还有路可走， 如果有路可走，则沿该方向再向前试探；如果已无路可走， 则返回一步， 再看其它方向是否还有路可走；如果有路可走，则沿该方向再向前试探。 按此原则不断搜索回溯再搜索， 直到找到新的出路或从原路返回入口处无解为止。
**//实现思路一**

```CPP
int search(int k){
    for(i = 1;i <= 算法总数；i++){
        if（满足条件）{
            保存结果；
            if（到目的地）{
                输出解；
            }else{
                search(k + 1);
            }
            恢复：保存结果之前的状态，回溯一步；
        }
    }
}
```
**//实现思路二**

```CPP
int search(int k){
    if（到目的地）{
	    输出解；
    }else{
        for(i = 1;i <= 算符种数；i++){
            if（满足条件）{
                保存结果；
                search(k + 1);
                恢复：保存结果之前的状态；//回溯一步
            }
        }
    }
}
```

### 一、回溯案例
#### 1739:【基础】迷宫的所有路径

![20220809_080832_067](07.3%E3%80%81%E5%9B%9E%E6%BA%AF/20220809_080832_067.png)

```CPP
1739 - 【基础】迷宫的所有路径
题目描述
已知一N×N的迷宫，允许往上、下、左、右四个方向行走，且迷宫中没有任何障碍，所有的点都可以走。现请你按照右、下、左、上顺序进行搜索，找出从左上角到右下角的所有路径。

输入
输入一个整数N（N<=5）代表迷宫的大小。

输出
按右、下、左、上搜索顺序探索迷宫，输出从左上角1,1点走到右下角N,N点的所有可能的路径。

样例
输入复制
3
输出复制
1:1,1->1,2->1,3->2,3->3,3
2:1,1->1,2->1,3->2,3->2,2->3,2->3,3
3:1,1->1,2->1,3->2,3->2,2->2,1->3,1->3,2->3,3
4:1,1->1,2->2,2->2,3->3,3
5:1,1->1,2->2,2->3,2->3,3
6:1,1->1,2->2,2->2,1->3,1->3,2->3,3
7:1,1->2,1->2,2->2,3->3,3
8:1,1->2,1->2,2->3,2->3,3
9:1,1->2,1->2,2->1,2->1,3->2,3->3,3
10:1,1->2,1->3,1->3,2->3,3
11:1,1->2,1->3,1->3,2->2,2->2,3->3,3
12:1,1->2,1->3,1->3,2->2,2->1,2->1,3->2,3->3,3
来源
回溯

标签
回溯
```
